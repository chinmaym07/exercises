{"version":3,"sources":["serverCom.js","App.js","index.js"],"names":["baseUrl","Com","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deletePerson","delete","SearchComponent","handleSearch","search","type","onChange","value","name","Person","person","handleDelete","number","onClick","AddANewPersonConponent","handleChange","newPerson","handleSubmit","App","useState","persons","setPersons","setNewPerson","filteredPerson","setFilteredPerson","setSearch","notifMessage","setNotifMessage","typeOfNotif","setTypeNotifMessage","useEffect","serverCom","catch","error","message","obj","find","setTimeout","filter","className","e","target","toLowerCase","includes","preventDefault","i","length","checkPresence","window","confirm","newObj","map","console","log","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ae67e08d.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\nlet Com = { getAll, create, update ,deletePerson };\nexport default Com;","import React, { useState ,useEffect } from 'react'\nimport serverCom from './serverCom';\nimport './index.css'\n\n\nconst SearchComponent = ({handleSearch,search}) =>(\n  <p>filter shown with : <input type=\"text\" onChange={handleSearch} value={search} name=\"search\"/></p>\n)\n\n\nconst Person = ({person,handleDelete})=>{\n\n  return (\n  <div>\n    <p key={person.id}>{person.name} {person.number}</p>\n    <button onClick={()=> handleDelete(person.id)}>delete</button>\n  </div>\n  )\n}\n\n\nconst AddANewPersonConponent = ({handleChange,newPerson,handleSubmit})=> (\n  <form>\n    <div>\n      name: <input type=\"text\" onChange={handleChange} value={newPerson.name} name=\"name\"/>\n    </div>\n    <div>number: <input type=\"text\" onChange={handleChange} value={newPerson.number} name=\"number\" /></div>\n    <div>\n      <button type=\"submit\" onClick={handleSubmit}>add</button>\n    </div>\n  </form>\n)\n\n\nconst App = () => {\n  \n  const [ persons, setPersons ] = useState([]) ;\n  const [ newPerson, setNewPerson ] = useState({id:'',name:'',number:''})\n  const [filteredPerson,setFilteredPerson] = useState([]);\n  const [search, setSearch] = useState('');\n  const [notifMessage,setNotifMessage] = useState('');\n  const [typeOfNotif,setTypeNotifMessage] = useState(0);\n\n  useEffect(()=>{\n    serverCom\n    .getAll()\n    .then(data => setPersons(data))\n    .catch(error => {\n      setNotifMessage(error.message)\n      setTypeNotifMessage(-1);\n    });\n\n  },[])\n\n  const handleDelete = (id)=> {\n    serverCom\n    .deletePerson(id)\n    .then(data => {\n        let obj = persons.find(person => person.id === id);\n        setNotifMessage(`Information of ${obj.name} Deleted !!`);\n        setTypeNotifMessage(1);\n      })\n    .catch(error => {\n      setNotifMessage(error.message)\n      setTypeNotifMessage(-1);\n    });\n    setTimeout(() => {\n      setNotifMessage('')\n    }, 5000);\n    setPersons(persons.filter(person => person.id !== id))\n  }\n  const handleChange = (e) => {\n\n    setNewPerson({\n      ...newPerson,\n      [e.target.name] : e.target.value\n    });\n  }\n  const handleSearch =(e) => {\n    setSearch(e.target.value);\n\n    setFilteredPerson(persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase())));\n  }\n\n  const checkPresence= (obj)=> {\n    for(let i = 0 ; i < persons.length;i++)\n    {\n      if(persons[i].name === obj.name && persons[i].number !== obj.number)\n        return persons[i].id;\n    }\n    return null;\n  }\n  \n  const handleSubmit = (e)=>{\n    e.preventDefault();\n    let id = checkPresence(newPerson);\n    if(id !== null){\n        let val = window.confirm(`${newPerson.name} is already added to phonebook,replace the old number with a new one`);\n        if(val)\n        {\n          let newObj = {\n            id,\n            ...newPerson\n          }\n          serverCom\n          .update(id,newObj)\n          .then(data => {\n            setPersons(persons.map(person => person.id !== id ? person : data))\n            setNotifMessage(`Phone Number of ${newPerson.name} Updated `);\n            console.log(`Phone Number of ${newPerson.name} Updated `);\n            setTypeNotifMessage(1);\n          })\n          .catch(error => {\n            setNotifMessage(`Information of ${newPerson.name} has already been removed from server !!`);\n            setTypeNotifMessage(-1);\n          });\n          setNewPerson({name:'',number:''});    \n          setTimeout(() => {\n            setNotifMessage('')\n          }, 5000);\n        }\n          \n      \n    }\n    else{\n      serverCom\n      .create(newPerson)\n      .then(data=>{\n        setPersons(persons.concat(data))\n        setNotifMessage(`Added ${newPerson.name}`);\n        console.log(`Added ${newPerson.name}`)\n        setTypeNotifMessage(1);\n      })\n      .catch(error => {\n        setNotifMessage(error.message)\n        setTypeNotifMessage(-1);\n      })\n      setTimeout(() => {\n        setNotifMessage('')\n      }, 5000);\n      setNewPerson({name:'',number:''});\n    }\n    \n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      {\n        notifMessage !== '' ? <div className={typeOfNotif === 1 ? \"post-notif\":\"neg-notif\"}>\n        {notifMessage}\n        </div>:null\n      }\n      <SearchComponent handleSearch={handleSearch} search={search} />\n      <h1>Add a New</h1>\n      <AddANewPersonConponent handleChange={handleChange} handleSubmit={handleSubmit} newPerson={newPerson}/>\n      <h2>Numbers</h2>\n      {\n        search ? (filteredPerson.length > 0 ? filteredPerson.map(person => <Person key={person.id} person={person} handleDelete={handleDelete}/>) : <p>No Item Found</p>)\n        :\n        persons.map(person =>  <Person key={person.id} person={person} handleDelete={handleDelete} />)\n      }\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}